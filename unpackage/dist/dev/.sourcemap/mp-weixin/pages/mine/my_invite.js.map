{"version":3,"sources":["uni-app:///main.js","webpack:///D:/1016_proj_fx/分销系统/pages/mine/my_invite.vue?b74a","webpack:///D:/1016_proj_fx/分销系统/pages/mine/my_invite.vue?0bea","webpack:///D:/1016_proj_fx/分销系统/pages/mine/my_invite.vue?22fe","webpack:///D:/1016_proj_fx/分销系统/pages/mine/my_invite.vue?ed91","uni-app:///pages/mine/my_invite.vue","webpack:///D:/1016_proj_fx/分销系统/pages/mine/my_invite.vue?0aa8"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,6C,mDACAA,EAAWC,a;;;;2DCHX,+RACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2BACZ,aAAAF,E;;;;2GCvBf,szB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,0eAAk3B,eAAG,G;;;;gJCgCr3B,CACA,KADA,WAEA,OACA,UACA,UACA,SACA,UACA,UACA,cACA,YACA,aACA,aACA,UACA,YAGA,OAhBA,SAgBA,cACA,yBACA,gCACA,4BAEA,WACA,6BACA,MACA,oCACA,UAEA,oBACA,eAGA,IAFA,yBACA,KACA,oBACA,OACA,KACA,eACA,cAEA,UAEA,cACA,2CACA,4BACA,sCACA,WACA,2BACA,MACA,qCAEA,oBACA,eACA,yBAIA,iBACA,mBA4CA,SAEA,YAFA,SAEA,GAEA,IADA,cACA,mBACA,oEACA,kCAEA,mBAIA,WAZA,SAYA,GACA,oCAIA,UAjBA,SAiBA,GACA,oEAIA,SAtBA,SAsBA,GACA,eACA,qBACA,kBACA,eAGA,IAFA,iBACA,cACA,iCACA,oDACA,sDAEA,oCACA,yCACA,CAGA,IAFA,0BACA,uBACA,mCACA,oDACA,sDAEA,2BACA,4BAEA,kBACA,iCAGA,aAjDA,WAoDA,IAFA,WACA,oCACA,8BACA,4BACA,6BACA,uCAGA,YACA,UAGA,KA9DA,WA+DA,WACA,+BACA,wCACA,qBACA,cACA,gBACA,MACA,oBACA,gBACA,uCAEA,QACA,SAHA,IAMA,SAEA,oCACA,qCAEA,uBAWA,SACA,uBACA,wBACA,eACA,UACA,oBACA,QAJA,SAIA,GAEA,0BACA,wBACA,QAFA,SAEA,GACA,4CAEA,KALA,SAKA,GACA,SACA,8DAOA,KApBA,WAqBA,+DAGA,MAEA,sBAKA,eA/HA,SA+HA,OACA,QACA,aACA,YACA,0BACA,qCACA,uCACA,aACA,SAEA,IACA,MAEA,MAGA,UAEA,oBAjJA,SAiJA,OACA,6CACA,KACA,IACA,IACA,UAEA,0CACA,sBACA,cAKA,OAHA,GACA,UAEA,K;;;;2DClSA,0rBAAqvC,eAAG,G","file":"pages/mine/my_invite.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/mine/my_invite.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./my_invite.vue?vue&type=template&id=ef9b3a0e&\"\nvar renderjs\nimport script from \"./my_invite.vue?vue&type=script&lang=js&\"\nexport * from \"./my_invite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./my_invite.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/my_invite.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my_invite.vue?vue&type=template&id=ef9b3a0e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my_invite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my_invite.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view v-if=\"canvas\">\r\n\t\t\t<view class=\"tit\">我邀请的：</view>\r\n\t\t\t<view class=\"invite-top d-center\">\r\n\t\t\t\t<view class=\"top-left\">\r\n\t\t\t\t\t<view class=\"peo\"><text>{{peonum.oath_numbers}}</text>人</view>\r\n\t\t\t\t\t<view class=\"peo-p\">注册人数</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"divide\"></view>\r\n\t\t\t\t<view class=\"top-left\">\r\n\t\t\t\t\t<view class=\"peo\"><text>{{peonum.register_number}}</text>人</view>\r\n\t\t\t\t\t<view class=\"peo-p\">认证人数</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"position: fixed;top:100rpx;left: 0;height: 100%;width: 100%;\">\r\n\t\t\t\t<view class=\"tower-swiper\" @touchmove=\"TowerMove\" @touchstart=\"TowerStart\">\r\n\t\t\t\t\t<view class=\"tower-item\" :class=\"item.zIndex==1?'none':''\" v-for=\"(item,index) in swiperList\" :key=\"index\" :style=\"[{'--index': item.zIndex,'--left':item.mLeft}]\"\r\n\t\t\t\t\t :data-direction=\"direction\" :data-index=\"index\" @touchend=\"TowerEnd\">\r\n\t\t\t\t\t\t<view class=\"swiper-item\">\r\n\t\t\t\t\t\t\t<image :src=\"imgurl+item.url\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"save-btn\" @tap=\"createCanvas\">点击保存图片到手机</view>\r\n\t\t</view>\r\n\t\t<canvas canvas-id=\"myCanvas\" v-if=\"!canvas\" class=\"my-canvas\"></canvas>\r\n\t</view>\n</template>\n\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tifShow: true,\r\n\t\t\t\tcurrent:0,\r\n\t\t\t\tbgImg:'',\r\n\t\t\t\tcanvas:true,\r\n\t\t\t\tcardCur:0,\r\n\t\t\t\tswiperList: [],\r\n\t\t\t\tdotStyle: false,\r\n\t\t\t\ttowerStart: 0,\r\n\t\t\t\tdirection: '',\r\n\t\t\t\tpeonum:'',\r\n\t\t\t\timgurl:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.imgurl=this.$imgurl\r\n\t\t\tlet superior_id=uni.getStorageSync('superior_id')\r\n\t\t\tlet user_id=uni.getStorageSync('user_id')\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tuni.request({\r\n\t\t\t\turl:this.$burl+'/invite_img',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tuser_id:uni.getStorageSync('user_id'),\r\n\t\t\t\t\ttype:'1'\r\n\t\t\t\t},\r\n\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tlet pics=res.data.data.result\r\n\t\t\t\t\tlet arr=[]\r\n\t\t\t\t\tfor(var i = 0;i<pics.length;i++){\r\n\t\t\t\t\t\tlet pic = {\r\n\t\t\t\t\t\t\tid:i,\r\n\t\t\t\t\t\t\ttype:pics[i].type,\r\n\t\t\t\t\t\t\turl:pics[i].url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tarr.push(pic)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr=arr.concat(arr)\r\n\t\t\t\t\tthis.swiperList = JSON.parse(JSON.stringify(arr))\r\n\t\t\t\t\tthis.TowerSwiper('swiperList');\r\n\t\t\t\t\tthis.bgImg=this.$imgurl+this.swiperList[0].url\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:this.$burl+'/invite_oath',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tuser_id:uni.getStorageSync('user_id'),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tthis.peonum=res.data.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tfail:(err)=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP-BAIDU\r\n\t\t\tuni.request({\r\n\t\t\t\turl:this.$burl+'/invite_img',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tuser_id:uni.getStorageSync('user_id'),\r\n\t\t\t\t\ttype:'2'\r\n\t\t\t\t},\r\n\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tlet pics=res.data.data.result\r\n\t\t\t\t\tlet arr=[]\r\n\t\t\t\t\tfor(var i = 0;i<pics.length;i++){\r\n\t\t\t\t\t\tlet pic = {\r\n\t\t\t\t\t\t\tid:i,\r\n\t\t\t\t\t\t\ttype:pics[i].type,\r\n\t\t\t\t\t\t\turl:pics[i].url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tarr.push(pic)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr=arr.concat(arr)\r\n\t\t\t\t\tthis.swiperList = JSON.parse(JSON.stringify(arr))\r\n\t\t\t\t\tthis.TowerSwiper('swiperList');\r\n\t\t\t\t\tthis.bgImg=this.$imgurl+this.swiperList[0].url\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:this.$burl+'/invite_oath',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tuser_id:uni.getStorageSync('user_id'),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tthis.peonum=res.data.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tfail:(err)=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化towerSwiper\r\n\t\t\tTowerSwiper(name) {\r\n\t\t\t\tlet list = this[name];\r\n\t\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\t\tlist[i].zIndex = parseInt(list.length / 2) + 1 - Math.abs(i - parseInt(list.length / 2))\r\n\t\t\t\t\tlist[i].mLeft = i - parseInt(list.length / 2)\r\n\t\t\t\t}\r\n\t\t\t\tthis.swiperList = list\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// towerSwiper触摸开始\r\n\t\t\tTowerStart(e) {\r\n\t\t\t\tthis.towerStart = e.touches[0].pageX\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// towerSwiper计算方向\r\n\t\t\tTowerMove(e) {\r\n\t\t\t\tthis.direction = e.touches[0].pageX - this.towerStart > 0 ? 'right' : 'left'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// towerSwiper计算滚动\r\n\t\t\tTowerEnd(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tlet direction = this.direction;\r\n\t\t\t\tlet list = this.swiperList;\r\n\t\t\t\tif (direction == 'right') {\r\n\t\t\t\t\tlet mLeft = list[0].mLeft;\r\n\t\t\t\t\tlet zIndex = list[0].zIndex;\r\n\t\t\t\t\tfor (let i = 1; i < this.swiperList.length; i++) {\r\n\t\t\t\t\t\tthis.swiperList[i - 1].mLeft = this.swiperList[i].mLeft\r\n\t\t\t\t\t\tthis.swiperList[i - 1].zIndex = this.swiperList[i].zIndex\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.swiperList[list.length - 1].mLeft = mLeft;\r\n\t\t\t\t\tthis.swiperList[list.length - 1].zIndex = zIndex;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet mLeft = list[list.length - 1].mLeft;\r\n\t\t\t\t\tlet zIndex = list[list.length - 1].zIndex;\r\n\t\t\t\t\tfor (let i = this.swiperList.length - 1; i > 0; i--) {\r\n\t\t\t\t\t\tthis.swiperList[i].mLeft = this.swiperList[i - 1].mLeft\r\n\t\t\t\t\t\tthis.swiperList[i].zIndex = this.swiperList[i - 1].zIndex\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.swiperList[0].mLeft = mLeft;\r\n\t\t\t\t\tthis.swiperList[0].zIndex = zIndex;\r\n\t\t\t\t}\r\n\t\t\t\tthis.direction = \"\"\r\n\t\t\t\tthis.swiperList = this.swiperList\r\n\t\t\t}, \r\n\t\t\t// 生成画布\r\n\t\t\tcreateCanvas(){\r\n\t\t\t\tlet that=this\r\n\t\t\t\tlet maxIndexNum=parseInt(that.swiperList.length / 2) + 1\r\n\t\t\t\tfor(let i = 0; i < that.swiperList.length; i++){\r\n\t\t\t\t\tif(that.swiperList[i].zIndex==maxIndexNum){\r\n\t\t\t\t\t\tconsole.log(that.swiperList[i])\r\n\t\t\t\t\t\tthat.bgImg=that.$imgurl+that.swiperList[i].url\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.canvas=false\r\n\t\t\t\tthat.draw()\r\n\t\t\t},\r\n\t\t\t// 绘制canvas\r\n\t\t\tdraw(){\r\n\t\t\t\tlet that=this\r\n\t\t\t\tuni.showLoading({title: '图片生成中'});\r\n\t\t\t\tconst ctx = uni.createCanvasContext('myCanvas');\r\n\t\t\t\tctx.clearRect(0, 0, 0, 0);\r\n\t\t\t\tlet path=that.bgImg\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: path, //服务器返回的图片地址\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tlet radio = uni.getSystemInfoSync().devicePixelRatio\r\n\t\t\t\t\t\t// 获取图片宽高\r\n\t\t\t\t\t\tlet width = res.width\r\n\t\t\t\t\t\tlet height = res.height\r\n\t\t\t\t\t\t// let width = res.width/radio\r\n\t\t\t\t\t\t// let height = res.height/radio\r\n\t\t\t\t\t\tlet Path = res.path;\r\n\t\t\t\t\t\t// 获取设备宽高\r\n\t\t\t\t\t\tlet windowWidth=uni.getSystemInfoSync().windowWidth\r\n\t\t\t\t\t\tlet windowHeight=uni.getSystemInfoSync().windowHeight\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\tctx.drawImage(Path, 0, 0, windowWidth,windowHeight);\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-BAIDU\r\n\t\t\t\t\t\tctx.drawImage(Path, 0, 0, windowWidth,windowHeight);\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// 绘制文字\r\n\t\t\t\t\t\t// ctx.setFillStyle('#000000')\r\n\t\t\t\t\t\t// var result = that.breakLinesForCanvas('文案文案文案文案文案文案文案文案文',500, '35px 微软雅黑');\r\n\t\t\t\t\t\t// \tresult.forEach(function(line, index) {\r\n\t\t\t\t\t\t// \tctx.fillText(line, 110,20 * index+350,190);\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t\tctx.draw()\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tuni.canvasToTempFilePath({\t// 把画布转化成临时文件\r\n\t\t\t\t\t\t\t\tfileType: 'jpg',\t\t\t// 保存成的文件类型\r\n\t\t\t\t\t\t\t\tquality: 1,\t\t\t\t\t// 图片质量\r\n\t\t\t\t\t\t\t\tcanvasId: 'myCanvas',\t\t// 画布ID\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t// 保存图片至相册\r\n\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\t// 存成图片至手机\r\n\t\t\t\t\t\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\t\t\t\t\t\tsuccess(res2) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({title: '图片保存成功', duration: 2000})\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail(res3) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res3.errMsg === 'saveImageToPhotosAlbum:fail auth deny') {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({title: '保存失败，稍后再试', duration: 2000,icon:'none'})\r\n\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({title: '保存失败，稍后再试', duration: 2000,icon:'none'})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({title: '保存失败，稍后再试',duration: 2000,icon:'none'})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 文案自动折行\r\n\t\t\tfindBreakPoint(text, width, context) {\r\n\t\t\t\tvar min = 0;\r\n\t\t\t\tvar max = text.length - 1;\r\n\t\t\t\twhile (min <= max) {\r\n\t\t\t\t\tvar middle = Math.floor((min + max) / 2);\r\n\t\t\t\t\tvar middleWidth = context.measureText(text.substr(0, middle)).width;\r\n\t\t\t\t\tvar oneCharWiderThanMiddleWidth = context.measureText(text.substr(0, middle + 1)).width;\r\n\t\t\t\t\tif (middleWidth <= width && oneCharWiderThanMiddleWidth > width) {\r\n\t\t\t\t\t\treturn middle;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (middleWidth < width) {\r\n\t\t\t\t\t\tmin = middle + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmax = middle - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn -1;\r\n\t\t\t},\r\n\t\t\tbreakLinesForCanvas(text, width, font) {\r\n\t\t\t\tconst ctx =uni.createCanvasContext('myCanvas',this);\r\n\t\t\t\tvar result = [];\r\n\t\t\t\tvar breakPoint = 0;\r\n\t\t\t\tif (font) {\r\n\t\t\t\t\tctx.font = font;\r\n\t\t\t\t}\r\n\t\t\t\twhile ((breakPoint = this.findBreakPoint(text, width, ctx)) !== -1) {\r\n\t\t\t\t\tresult.push(text.substr(0, breakPoint));\r\n\t\t\t\t\ttext = text.substr(breakPoint);\r\n\t\t\t\t}\r\n\t\t\t\tif (text) {\r\n\t\t\t\t\tresult.push(text);\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style scope>\r\n\tpage{ background: #f4f4f4;}\r\n\tcanvas{width:100%;}\r\n\t.my-canvas{ position: fixed; top: 0; left: 0; width: 100%; height: 100%;}\r\n\t.tower-swiper {height: 100%;width: 100%;}\r\n\t.tower-swiper .tower-item {transform: scale(calc(0.5 + var(--index) / 10));margin-left: calc(var(--left) * 550upx - 42.5vw);z-index: var(--index);width: 74vw;/* width: 700upx; */height:150vw;/* height: 900upx; */}\r\n\t/* .tower-swiper .tower-item {transform: scale(calc(0.5 + var(--index) / 10));margin-left: calc(var(--left) * 600upx - 42.5vw);z-index: var(--index);width: 85vw; height:168vw;} */\r\n\t.invite{ width:698rpx; height: 1024rpx; margin:auto; margin-top:10%;}\r\n\t.invitebg{ width:100%; height: 100%;}\r\n\t.save-btn{ width:50%; height:75rpx; background:#fb2f19; color:white; text-align:center; line-height:75rpx; font-size:30rpx; border-radius: 50rpx; font-weight:bold; position:fixed; z-index:11; left:25%; top:91%;}\r\n\t.invite-top{ width:100%; height: 120rpx; background:#ffffff; box-shadow: 0rpx 5rpx 0 1rpx rgba(0,0,0,0.3); position:fixed; top:60rpx; z-index:11;}\r\n\t.top-left{ width:15%;}\r\n\t.top-left .peo{ font-size:14rpx; color:#666666; text-align: center;}\r\n\t.top-left .peo text{ color:#fb2711; font-size:45rpx;}\r\n\t.top-left .peo-p{ font-size:23rpx; color:#666666; margin-top:5rpx; text-align: center;}\r\n\t.divide{ width:1rpx; height: 89rpx; background: #fecac7; margin:0 116rpx;}\r\n\t.tit{ padding: 10rpx 0 10rpx 40rpx; color: #4b5151; font-size: 30rpx; background: white; position:fixed; width:100%;}\r\n</style>","import mod from \"-!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my_invite.vue?vue&type=style&index=0&scope=true&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\18843\\\\Downloads\\\\HBuilderX.2.9.8.20201110\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my_invite.vue?vue&type=style&index=0&scope=true&lang=css&\""],"sourceRoot":""}